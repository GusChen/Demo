<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <style>
    #list{
      height: 18px;
      margin-top:100px;
      overflow: hidden;
    }
    #list ul{
      height: 18px;
      
      padding: 0;margin: 0;
    }
  </style>
</head>
<body>
<div id="list">
  <ul id="uls">
    <li>1111</li>
    <li>2222</li>
    <li>3333</li>
    <li>4444</li>
  </ul>
</div>
<script>
  /*
   初始函数
   */
  function initT(){
    setT('uls','-18',1000);
  }
  /*
   @param ele   元素
   @param top   高度值
   @param time  时间 ms
  */
  function setT(ele, top, time){
    var element = document.getElementById(ele); //动画执行元素
    var stepTime = time / 10; //动画时间长度 按ms计算
    var step = top / stepTime; //动画布进值
    var initState = 0; //定义变化状态值
    for (var i = 0;i <= stepTime; i++) {
      initState = initState + step; //每次循环步进一次
      setTimeout(function (element, initState, i, stepTime) {
        return function (){
          ani(element, initState, i, stepTime); // 执行回调
        }
      }(element, initState, i, stepTime), 10*i);
    }
  }
  //执行动画
  function ani(element, initState, i, x){
    element.style.marginTop = initState + 'px';
    
    //判断初始状态
    if(i == x){
        States(); //重置当前状态
        initT(); // 重复调用
      }
  }
//重新初始化状态
function States(){
  var uls = document.getElementById('uls');
  var firstNodes = uls.children[0]; //第一个字节点
  uls.style.marginTop = '0px'; //修改为初始状态
  uls.removeChild(firstNodes); //删除子节点
  uls.appendChild(firstNodes); //末尾添加子节点
}
initT()
</script>
</body>
</html>